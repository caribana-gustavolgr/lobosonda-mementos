<div class="photo-grid-item" (click)="onSelectPhoto()">
  <div class="photo-preview-frame">
    <img [src]="imageUrl" [alt]="title" width="164" height="195.344" />
  </div>
  
  <div class="photo-info">
    <span class="photo-title">{{ truncatedTitle }}</span>
    <span class="photo-date">{{ formattedDate }}</span>
  </div>

  <!-- Shopping cart button for purchasable photos -->
  <div *ngIf="canBePurchased" class="shopping-cart-icon-button" (click)="onPurchaseClick($event)">
    <img src="assets/svgs/shopping_cart.svg" alt="Shopping Cart" width="40" height="40">
  </div>

  <!-- Action indicator and buttons for own photos -->
  <div *ngIf="isOwnPhoto" class="photo-actions-container">
    <!-- Three dots indicator (trigger for overlay) -->
    <div #actionsTrigger 
         class="actions-indicator" 
         (click)="onToggleActions($event)" 
         [class.active]="isOverlayOpen">
      <span class="dots-icon">â‹¯</span>
    </div>
  </div>
</div>

<!-- Template for the overlay actions -->
<ng-template #actionsTemplate>
  <div class="actions-overlay">
    <button class="action-button edit-button" (click)="onEditClick($event)" title="Edit photo">
      <img src="assets/svgs/edit.svg" alt="Edit" width="20" height="20">
    </button>
    <button class="action-button delete-button" (click)="onDeleteClick($event)" title="Delete photo">
      <img src="assets/svgs/trash.svg" alt="Delete" width="20" height="20">
    </button>
  </div>
</ng-template>
