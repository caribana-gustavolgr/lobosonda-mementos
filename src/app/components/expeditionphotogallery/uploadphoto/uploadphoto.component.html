<div class="upload-photo-container">
  <!-- Upload Loader -->
  <app-upload-loader 
    [isVisible]="isLoading"
    [message]="loadingMessage"
    [showProgress]="false">
  </app-upload-loader>

  <!-- Image Grid Section -->
  <div class="image-grid-section">
    <div class="image-grid">
      @for (photo of selectedPhotos; track photo.filename) {
        <div class="photo-item selected" (click)="removePhoto(photo)">
          <img [src]="'data:' + photo.type + ';base64,' + photo.base64" 
               [alt]="photo.filename" 
               class="photo-thumbnail">
          <div class="photo-overlay">
            <span class="checkmark">âœ“</span>
          </div>
        </div>
      }
      
      @for (photoId of mockPhotoIds; track photoId) {
        <app-photo-from-my-phone 
          [property1]="'Default'"
          (click)="onSelectPhotos()"
          class="photo-item">
        </app-photo-from-my-phone>
      }
    </div>
  </div>

  <!-- Upload Form Section -->
  <div class="upload-form-section">
    <!-- Caption Input -->
    <div class="caption-input">
      <input 
        type="text" 
        [(ngModel)]="caption"
        placeholder="Add a caption or description (optional)..."
        class="caption-field">
      <div class="caption-hint">
        <span class="hint-text">Caption is optional - you can upload photos without it</span>
      </div>
    </div>

    <!-- Privacy Settings -->
    <div class="privacy-settings">
      <p class="privacy-title">Choose how your pictures are used on this platform.</p>
      
      <div class="checkbox-group">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            [(ngModel)]="onlyYouCanView"
            (change)="onOnlyYouCanViewChange()"
            class="checkbox-input">
          <span class="checkbox-text">Only you can view</span>
        </label>
        
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            [(ngModel)]="onlyYouCanShare"
            (change)="onOnlyYouCanShareChange()"
            [disabled]="onlyYouCanView"
            class="checkbox-input">
          <span class="checkbox-text">Only you can share</span>
        </label>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <app-button 
        label="CANCEL"
        (buttonClick)="onCancel()"
        [width]="74"
        [height]="40"
        [fontSize]="22"
        strokeColor="#222222"
        backgroundColor="transparent"
        class="cancel-button">
      </app-button>
      
      <app-button 
        label="UPLOAD ({{ selectedCount }})"
        (buttonClick)="onUpload()"
        [disabled]="selectedCount === 0 || isLoading"
        [width]="159"
        [height]="40"
        [fontSize]="22"
        [strokeColor]="selectedCount > 0 && !isLoading ? '#ffffff' : '#ffffff'"
        [backgroundColor]="selectedCount > 0 && !isLoading ? '#222222' : '#8C8C8C'"
        class="upload-button">
      </app-button>
    </div>

    <!-- Terms & Conditions -->
    <div class="terms-section">
      <p class="terms-text">
        By clicking UPLOAD you agree to the 
        <a (click)="goToTermsAndConditions()" class="terms-link">Terms & Conditions.</a>
      </p>
    </div>
  </div>
</div>